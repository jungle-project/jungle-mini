<!-- <div id="modal" class="fixed inset-0 bg-opacity-50 flex items-center justify-center hidden">
  <div class="bg-white rounded-lg p-8 max-w-md w-full">
    <img src="">
    <p class="text-gray-700 mb-6">환영합니다!<br>여기선 비난 대신 칭찬이 쌓이고, 따뜻한 말들이 자유롭게 흘러갑니다. 오늘, 누군가의 하루를 환하게 밝혀줄 칭찬 한마디 남겨보는 건 어때요?</p>
    <span onclick="closeModal()" class="text-blue-600 font-bold cursor-pointer">
      칭찬하러가기
    </span>
  </div>
</div> -->

<div class="bg-gray-100 p-6 w-220 h-full">
  <div class="max-w-5xl mx-auto">
    <div class="flex justify-between items-center mb-4">
        <input id="searchInput" type="text" placeholder="이름 검색" class="border rounded px-5 py-1" oninput="filterUsers()">
          <div class="flex justify-end"><select id="sortSelect" onchange="sortUsers()" class="border rounded px-2 py-1 ">         
            <option value="name">이름순</option>
            <option value="praises">칭찬순</option>
          </select>
        </div> 
    </div>

    <div id="profileGrid" class="flex grid grid-cols-3 gap-4 mb-6"></div>
    <div id="pagination" class="flex justify-center items-center gap-1 text-sm text-gray-700"></div>
  </div>

  <script>
    const users = Array.from({ length: 20 }, (_, i) => ({
      name: `사용자${String.fromCharCode(65 + i)}`,
      photo: `https://via.placeholder.com/150?text=U${i+1}`,
      praises: Math.floor(Math.random() * 100)
    }));

    let filteredUsers = [...users];
    let currentPage = 1;
    const USERS_PER_PAGE = 9;

    function renderUsers() {
      const grid = document.getElementById('profileGrid');
      grid.innerHTML = '';
      const start = (currentPage - 1) * USERS_PER_PAGE;
      const end = start + USERS_PER_PAGE;
      const pageUsers = filteredUsers.slice(start, end);

      pageUsers.forEach(user => {
        grid.innerHTML += `
          <div class="bg-white rounded shadow p-4 text-center">
            <img src="${user.photo}" alt="${user.name}" class="mx-auto mb-2 rounded-full w-24 h-24 object-cover" />
            <h2 class="text-lg font-bold">${user.name} (${user.praises})</h2>
            <button class="bg-gray-600 text-white px-3 py-1 rounded text-sm mr-1 onclick="addpraise()"">칭찬</button>
            <button class="bg-gray-600 text-white px-3 py-1 rounded text-sm onclick="goProfile('${user.name}')"">보기</button>
          </div>
        `;
      });

      renderPagination();
    }

    function renderPagination() {
      const pagination = document.getElementById('pagination');
      pagination.innerHTML = '';

      const totalPages = Math.ceil(filteredUsers.length / USERS_PER_PAGE);
      const addBtn = (text, page, disabled = false) => {
        pagination.innerHTML += `<button onclick="goToPage(${page})" ${disabled ? 'disabled class="opacity-50"' : ''} class="px-2 py-1 hover:underline">${text}</button>`;
      };

      addBtn('<<', 1, currentPage === 1);
      addBtn('<', currentPage - 1, currentPage === 1);

      for (let i = 1; i <= totalPages; i++) {
        pagination.innerHTML += `<button onclick="goToPage(${i})" class="px-2 py-1 ${i === currentPage ? 'font-bold underline' : ''}">${i}</button>`;
      }

      addBtn('>', currentPage + 1, currentPage === totalPages);
      addBtn('>>', totalPages, currentPage === totalPages);
    }

    function goToPage(page) {
      const totalPages = Math.ceil(filteredUsers.length / USERS_PER_PAGE);
      currentPage = Math.min(Math.max(1, page), totalPages);
      renderUsers();
    }

    function filterUsers() {
      const query = document.getElementById('searchInput').value.toLowerCase();
      filteredUsers = users.filter(user => user.name.toLowerCase().includes(query));
      currentPage = 1;
      renderUsers();
    }

    function sortUsers() {
      const sort = document.getElementById('sortSelect').value;
      if (sort === 'name') {
        filteredUsers.sort((a, b) => a.name.localeCompare(b.name));
      } else {
        filteredUsers.sort((a, b) => b.praises - a.praises);
      }
      renderUsers();
    }

    function addPraise() {

    }
    function goProfile(name) {
      window.location.href = `/profile.html?name=${encodeURIComponent(name)}`;
    }
    function openModal() {
      document.getElementById('modal').classList.remove('hidden');
    }

    function closeModal() {
      document.getElementById('modal').classList.add('hidden');
    }

// 페이지 로딩 시 모달 표시
      window.onload = function() {
        openModal();
      };

    // 초기 렌더
    sortUsers();
  </script>
</div>
